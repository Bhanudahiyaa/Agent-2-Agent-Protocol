import { CancelTaskRequest, CancelTaskResponse, GetTaskPushNotificationConfigRequest, GetTaskPushNotificationConfigResponse, GetTaskRequest, GetTaskResponse, SendMessageRequest, SendMessageResponse, SendMessageStreamingRequest, SendMessageStreamingResponse, SetTaskPushNotificationConfigRequest, SetTaskPushNotificationConfigResponse, TaskResubscriptionRequest } from "../types/index.js";
import { AgentExecutor } from "./agent_executor.js";
import { TaskStore } from "./task_store.js";
/**
 * Interface for handling A2A requests
 */
export interface A2ARequestHandler {
    /**
     * Handle get task request
     *
     * @param request - Get task request
     * @returns Promise resolving to the get task response
     */
    onGetTask(request: GetTaskRequest): Promise<GetTaskResponse>;
    /**
     * Handle cancel task request
     *
     * @param request - Cancel task request
     * @returns Promise resolving to the cancel task response
     */
    onCancelTask(request: CancelTaskRequest): Promise<CancelTaskResponse>;
    /**
     * Handle message send request
     *
     * @param request - Send message request
     * @returns Promise resolving to the send message response
     */
    onMessageSend(request: SendMessageRequest): Promise<SendMessageResponse>;
    /**
     * Handle message send stream request
     *
     * @param request - Send message streaming request
     * @returns AsyncGenerator yielding streaming responses
     */
    onMessageSendStream(request: SendMessageStreamingRequest): AsyncGenerator<SendMessageStreamingResponse, void, unknown>;
    /**
     * Handle set task push notification config request
     *
     * @param request - Set task push notification config request
     * @returns Promise resolving to the set task push notification config response
     */
    onSetTaskPushNotification(request: SetTaskPushNotificationConfigRequest): Promise<SetTaskPushNotificationConfigResponse>;
    /**
     * Handle get task push notification config request
     *
     * @param request - Get task push notification config request
     * @returns Promise resolving to the get task push notification config response
     */
    onGetTaskPushNotification(request: GetTaskPushNotificationConfigRequest): Promise<GetTaskPushNotificationConfigResponse>;
    /**
     * Handle task resubscription request
     *
     * @param request - Task resubscription request
     * @returns AsyncGenerator yielding streaming responses
     */
    onResubscribeToTask(request: TaskResubscriptionRequest): AsyncGenerator<SendMessageStreamingResponse, void, unknown>;
}
/**
 * Default implementation of A2ARequestHandler
 */
export declare class DefaultA2ARequestHandler implements A2ARequestHandler {
    private agentExecutor;
    private taskStore;
    private backgroundTasks;
    /**
     * Create a DefaultA2ARequestHandler
     *
     * @param agentExecutor - Agent executor
     * @param taskStore - Task store (optional, defaults to InMemoryTaskStore)
     */
    constructor(agentExecutor: AgentExecutor, taskStore?: TaskStore);
    /**
     * Build an error response
     *
     * @param requestId - Request ID
     * @param error - Error
     * @returns JSON-RPC error response
     */
    private _buildErrorResponse;
    /**
     * Append a message to a task
     *
     * @param messageSendParams - Message send parameters
     * @param task - Task to append the message to
     */
    private _appendMessageToTask;
    /**
     * Set up a server-sent event consumer
     *
     * @param task - Task (optional)
     * @param request - Send message streaming request
     * @returns AsyncGenerator yielding streaming responses
     */
    private _setupSSEConsumer;
    /**
     * Handle get task request
     *
     * @param request - Get task request
     * @returns Promise resolving to the get task response
     */
    onGetTask(request: GetTaskRequest): Promise<GetTaskResponse>;
    /**
     * Handle cancel task request
     *
     * @param request - Cancel task request
     * @returns Promise resolving to the cancel task response
     */
    onCancelTask(request: CancelTaskRequest): Promise<CancelTaskResponse>;
    /**
     * Handle message send request
     *
     * @param request - Send message request
     * @returns Promise resolving to the send message response
     */
    onMessageSend(request: SendMessageRequest): Promise<SendMessageResponse>;
    /**
     * Handle message send stream request
     *
     * @param request - Send message streaming request
     * @returns AsyncGenerator yielding streaming responses
     */
    onMessageSendStream(request: SendMessageStreamingRequest): AsyncGenerator<SendMessageStreamingResponse, void, unknown>;
    /**
     * Handle set task push notification config request
     *
     * @param request - Set task push notification config request
     * @returns Promise resolving to the set task push notification config response
     */
    onSetTaskPushNotification(request: SetTaskPushNotificationConfigRequest): Promise<SetTaskPushNotificationConfigResponse>;
    /**
     * Handle get task push notification config request
     *
     * @param request - Get task push notification config request
     * @returns Promise resolving to the get task push notification config response
     */
    onGetTaskPushNotification(request: GetTaskPushNotificationConfigRequest): Promise<GetTaskPushNotificationConfigResponse>;
    /**
     * Handle task resubscription request
     *
     * @param request - Task resubscription request
     * @returns AsyncGenerator yielding streaming responses
     */
    onResubscribeToTask(request: TaskResubscriptionRequest): AsyncGenerator<SendMessageStreamingResponse, void, unknown>;
}
